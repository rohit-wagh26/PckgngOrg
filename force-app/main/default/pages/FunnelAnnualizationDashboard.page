<apex:page sidebar="false" controller="FunnelAnnualizationDashboardController" lightningStylesheets="true" extensions="FunnelInstallation">
   
   <apex:includeScript value="{!URLFOR($Resource.FunnelScriptFolder,'Design/jquery-1.11.3.min.js')}"/>
   <apex:stylesheet value="{!URLFOR($Resource.SldsCss,'SldsResources/styles/salesforce-lightning-design-system.css')}"/>
   <apex:stylesheet value="{!URLFOR($Resource.SldsCss,'SldsResources/styles/salesforce-lightning-design-system.min')}"/>
   <!--Navigation -->
   
   <apex:stylesheet value="{!URLFOR($Resource.FunnelScriptFolder,'Design/css/4.7.0.font-awesome.css')}"/>
   <apex:stylesheet value="{!URLFOR($Resource.FunnelScriptFolder,'Design/css/v5.0.8-fontawesome.css')}"/>
   <apex:stylesheet value="{!URLFOR($Resource.FunnelScriptFolder,'Design/css/v5.0.8-solid.css')}"/>
   
   <apex:includeScript value="{!URLFOR($Resource.Chart,'chart/chart.js')}"/>
   <apex:includeScript value="{!URLFOR($Resource.Chart,'chart/label.js')}"/>
   <apex:includeScript value="{!URLFOR($Resource.Chart,'chart/more.js')}"/>
    
   
  <apex:includeScript value="{!URLFOR($Resource.FunnelScriptFolder,'Design/exporting.js')}"/>
    
   
   <!--Navigation-->
   <!-- <apex:slds />  -->
   <!--Navigation-->
   <style>
      body { font-size: 75%; }
      .noSidebarCell, .sidebarCell .fixed { padding: 10px; font-family: sldsFont; }
      @font-face {
      font-family: sldsFont;
      src: url({!URLFOR($Resource.SldsCss,'SldsResources/fonts/SalesforceSans-Light.ttf')});
      }
      .bPageHeader .phHeader td.left{display: block;}
      .navigation{display: table; width: 100%; text-align: center;}
    
        .navigation{display: table; width: 100%;}
        .navigation ul{margin: 0; padding: 0;}
        .navigation ul li{display: inline-block; padding: 0 8px; border-left: 2px solid #7e8793; line-height: 17px;; margin-left: 0;}
        .navigation ul li a{color: #7e8793; font-size: 17px; font-weight: bold;}
        .navigation ul li {color: #7e8793; font-size: 17px; font-weight: bold;}
        .navigation ul li:hover{color: #66cc33; text-decoration: none;}
        .navigation ul li a:hover{color: #66cc33; text-decoration: none;}
        .navigation ul li a:focus{outline: none; text-decoration: none;}
        .navigation ul li.selected {color: #66cc33;}
        .navigation ul li.home{border: none; padding-left: 0; margin-bottom: 10px;}
        .navigation ul li.home a{color: #00b2ee;}
        .navigation ul li.help{border-left: 2px solid #7e8793; padding-left: 5px; margin-left: 5px; margin-bottom: 10px;}
        .navigation ul li.help a{color: #00b2ee;}
        .navigation ul li:last-child{padding-right: 0;}
        
        .navigation ul li.scorenav a{background: url({!$Resource.CertificationNavigationIcon}) no-repeat; padding: 0 0 0 25px; background-position: 0 0; height: 19px; width: 20px;}
        .navigation ul li.scorenav a:hover {background-position: 0 -23px;}
        
        .navigation ul li.funnelanalyticsnav > a{background: url({!$Resource.AnalyticsNavigationIcon}) no-repeat; padding: 0 0 0 25px; background-position: 0 5px; height: 19px; width: 20px; color: #7e8793;}
        .navigation ul li.funnelanalyticsnav > a:hover{background-position: 0 -17px; color: #66cc33;}
        
        .navigation ul li.checklisticon{border-right: 2px solid #7e8793; color: #00b2ee; border-left: 0; margin-right: 5px; cursor: pointer;}

        .navigation ul li.checklisticon a{color: #00b2ee;}
        
        .myapp{min-width: 500px; font-family: sldsFont;background-color: #fff; }
                
        .navigation ul li.reportnav{position: relative; display: inline-block; cursor: pointer;}
        .navigation ul li.reportnav ul.subnav{position: absolute; z-index: 1; width: 240px; background: #fff; box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2); display: none;}
        .navigation ul li.reportnav ul.subnav li{display: block; text-align: left; border: none; padding: 0;}
        .navigation ul li.reportnav ul.subnav li a {color: #7e8793; padding: 10px; display: block; width: 100%;}
        .navigation ul li.reportnav ul.subnav li a:hover{background: #66cc33; color: #fff;}
        .navigation ul li.reportnav:hover ul.subnav {display: block;}
        
        .navigation ul li.reportnav ul.subnavlast{right:0; position: absolute; z-index: 2; width: 240px; background: #fff; box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2); display: none;}
        .navigation ul li.reportnav ul.subnavlast li{display: block; text-align: left; border: none; padding: 0;}
        .navigation ul li.reportnav ul.subnavlast li a {color: #7e8793; padding: 10px; display: block; width: 100%;}
        .navigation ul li.reportnav ul.subnavlast li a:hover{background: #66cc33; color: #fff;}
        .navigation ul li.reportnav:hover ul.subnavlast{display: block;}
         button a:hover{text-decoration: none;}
      button a:focus{text-decoration: none; outline: none;}
      select{background: url('{!URLFOR($Resource.Selectarrow )}') no-repeat right -20px center #fff !important; -moz-appearance: none; -webkit-appearance: none;}
      .slds-select[disabled], .slds-select.slds-is-disabled {background-color: #ecebea !important;border-color: #c9c7c5;cursor: not-allowed;-webkit-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;}
      a:hover{text-decoration:none !important;}
      a:focus{text-decoration:none !important;}
      .labeltext span{ display:block;}
   </style>
   <style>
      /* Add this attribute to the element that needs a tooltip */
      [data-tooltip] {
      position: relative;
      z-index: 2;
      cursor: pointer;
      }
      /* Hide the tooltip content by default */
      [data-tooltip]:before,
      [data-tooltip]:after {
      visibility: hidden;
      -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
      filter: progid: DXImageTransform.Microsoft.Alpha(Opacity=0);
      opacity: 0;
      pointer-events: none;
      }
      /* Position tooltip above the element */
      .metrictable [data-tooltip]:before {width: 120px; }
      [data-tooltip]:before {
      position: absolute;
      bottom: 100%;
      left: 45%;
      margin-bottom: 5px;
      margin-left: -70px;
      padding: 10px;
      width: 200px; 
      -webkit-border-radius: 0;
      -moz-border-radius: 0;
      border-radius: 5px;
      background-color: #66cc33;
      /*background-color: hsla(0, 0%, 20%, 0.9);*/
      color: #fff;
      content: attr(data-tooltip);
      text-align: center;
      font-size: 14px;
      line-height: 18px;
      border: 2px solid #66cc33;
      }
      /* Triangle hack to make tooltip look like a speech bubble */
      [data-tooltip]:after {
      position: absolute;
      bottom: 100%;
      left: 48%;
      margin-left: -5px;
      width: 0;
      border-top: 5px solid #66cc33;
      /*border-top: 5px solid hsla(0, 0%, 20%, 0.9);*/
      border-right: 5px solid transparent;
   
       border-left: 5px solid transparent;
      content: " ";
      font-size: 0;
      line-height: 0;
      }
      /* Show tooltip content on hover */
      [data-tooltip]:hover:before,
      [data-tooltip]:hover:after {
      visibility: visible;
      -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";
      filter: progid: DXImageTransform.Microsoft.Alpha(Opacity=100);
      opacity: 1;
      }
      .metrics-block{max-height: 307px; overflow-y: auto;}
      .metrics-block::-webkit-scrollbar {width: 5px;} 
      .metrics-block::-webkit-scrollbar-track {background: #f1f1f1;}
      .metrics-block::-webkit-scrollbar-thumb {background: #888;}
      .metrics-block::-webkit-scrollbar-thumb:hover {background: #555;}
      .help{font-weight: bold; cursor: pointer;}
      .help i{color: #66cc33;}
      text tspan[style="font-style:italic"] { fill: red; font-style: unset !important; }
      #reps, #Metric{width: 50% !important;}
   </style>
   <!--Navigation-->
   <apex:outputPanel id="charts" >
      <script type="text/javascript">   
         /*Charts */
         var ro;
         var bdata = [];
         var bdataYTD = [];
         <apex:repeat var="v" value="{!bubblechart}">
               
              
              
              bdata.push({ x: Math.round({!v.Sales_Rep_Profile__r.X12_Month_Rolling_Revenue__c}), y: parseFloat({!v.Sales_Rep_Profile__r.YTD_Quota_Percentage__c}.toFixed(2)), z: Math.round({!v.Sales_Rep_Profile__r.Avg_ann_Rev_Perf_of_Tenured_Rep__c}),name: '{!v.Sales_Rep_Profile__r.name}', QS:'{!v.Overall_Qualitative_Rating__c }'});
              bdataYTD.push({ x: Math.round({!v.Sales_Rep_Profile__r.YTD_Revenue__c }), y: parseFloat({!v.Sales_Rep_Profile__r.YTD_Quota_Percentage__c}.toFixed(2)), z: Math.round({!v.Sales_Rep_Profile__r.Avg_ann_Rev_Perf_of_Tenured_Rep__c}),name: '{!v.Sales_Rep_Profile__r.name}',  QS:'{!v.Overall_Qualitative_Rating__c }'});     
          
          </apex:repeat>
          console.log(bdata); 
       console.log('bdataYTD :'+bdataYTD); 
 
         function showChart(){
              $("#ssname").text('{!JSENCODE(sname)}');
               ro = '{!JSENCODE(fw.selectedLevelThree)}';
                            GenerateChart();
              
             
          
              
          }
                   
          function GenerateChart(){
              Highcharts.setOptions({
                        lang: {
                            thousandsSep: ','
                        }
                    });
                    
              
              $('#Avg12MonthRev').highcharts({
                 credits: {
                  enabled: false
                  },
                  tooltip: {
                  
                  formatter: function () {
                       return '<span style="font-size: 10px">'+this.x+'</span><br/> <span style="color:#7cb5ec;">\u25CF</span> Annual Sales Performance: <b> '+ (this.y).toLocaleString("ja-JP", { style: "currency", currency: "USD", minimumFractionDigits: 0 ,maximumFractionDigits:0  })+'</b>' ;
                   },
                   
                   shared: true,
                   useHTML: true,
                    
                    outside: true,
                    backgroundColor: "rgba(246, 246, 246, 1)",
                    borderColor: "#7cb5ec",
                    borderWidth: 1.5,
                    style: {
                      opacity: 1,
                      background: "rgba(246, 246, 246, 1)"
                    },
                }, 
                chart: {
                    type: 'column'
                },
                title: {
                    text: 'Average Annual Sales Performance for Tenured Salespeople in a Given Role'
                },
                subtitle: {
                    text: 'Fiscal Year '+'{!fiscalYear}'
                },
                xAxis: {
                    
                    categories: {!CharLabelsChart},
                     
                },
                yAxis: {
                    min: 0,
                    max:{!chart1YaxisMax},
                    title: {
                        text: 'Average Annual Sales Performance'
                    },
                    plotLines: [{
                    color: 'red',
                    dashStyle: 'dash',
                    width: 1.5,
                    value: {!avg12MonthRevenue },
                    label: {
                        align: 'right',
                         
                        style: {
                            color: 'red',
                            fontStyle: 'normal',
                            fontSize: '14px'
                            
                        },
                        text: 'Average Annual Sales <br/>All Tenured Reps = '+{!avg12MonthRevenue}.toLocaleString("ja-JP", { style: "currency", currency: "USD", minimumFractionDigits: 0,maximumFractionDigits:0  }),
                        x:  -10
                    },
                    zIndex: 33
                }]
                },
                 
                 
                series: [{
                    name: '{!JSENCODE(HTMLENCODE(role))}',
                    data: {!ChartDataChart},
                     tooltip: {
                            valuePrefix: '$',
                            valueDecimals: 0
                        }
            
                }]
            });
          
          $('#24MonthRev').highcharts({
                 credits: {
                  enabled: false
                  },
                  tooltip: {
                    shared: true,
                    useHTML: true,
                    outside: true,
                    backgroundColor: "rgba(246, 246, 246, 1)",
                    borderColor: "#7cb5ec",
                    borderWidth: 1.5,
                    style: {
                      opacity: 1,
                      background: "rgba(246, 246, 246, 1)"
                    },
                  formatter: function () {
                       return '  <span style="color:#7cb5ec;">\u25CF</span>'+this.x+' Average Annual Sales as New Hire: <b> '+ (this.y).toLocaleString("ja-JP", { style: "currency", currency: "USD", minimumFractionDigits: 0,maximumFractionDigits:0 })+'</b>' ;
                   },
                   
                    
                }, 
                chart: {
                    type: 'column'
                },
                title: {
                    text: 'New Hire Timeline for All Tenured Reps By Role'
                },
                subtitle: {
                    text: 'Monthly New Hire Performance Timeline '
                },
                xAxis: {
                    categories: {!Chart24MonthsChart},
                     
                },
                yAxis: {
                    min: 0,
                    max:{!chart2YaxisMax},
                    title: {
                        text: 'Average Annual Sales'
                    },
                    plotLines: [{
                    color: 'red',
                    dashStyle: 'dash',
                    width: 1.5,
                    value: {!avg12MonthRevenue },
                    label: {
                        align: 'right',
                         
                        style: {
                            color: 'red',
                            fontStyle: 'normal',
                            fontSize: '14px'
                            
                        },
                        text: 'Average Annual Sales <br/>All Tenured Reps = '+{!avg12MonthRevenue}.toLocaleString("ja-JP", { style: "currency", currency: "USD", minimumFractionDigits: 0,maximumFractionDigits:0  }),
                        x:  -10
                    },
                    zIndex: 33
                }]
                },
                 
                 
                series: [{
                    name: '{!JSENCODE(HTMLENCODE(role))}',
                    data: {!Chart24DataChart},
                     tooltip: {
                            valuePrefix: '$',
                            valueDecimals: 0 
                        }
            
                }]
            });
            
             $('#12MonthRev').highcharts({
                 credits: {
                  enabled: false
                  },
                  tooltip: {
                  
                     //shared: true,
                    useHTML: true,
                    outside: true,
                    backgroundColor: "rgba(246, 246, 246, 1)",
                    borderColor: "#7cb5ec",
                    borderWidth: 1.5,
                    style: {
                      opacity: 1,
                      background: "rgba(246, 246, 246, 1)"
                    },
                },
                 
                chart: {
                    type: 'column',
                 //    zoomType: 'xy'
                },
                title: {
                    text: 'New Hire Timeline to Tenured Productive Performance'
                },
                 
                plotOptions: {
                    series: {
                        stickyTracking: false,
                        lineWidth: 1.5,
                        shadow: false,
                        marker: {
                            enabled: false,
                            symbol: 'circle',
                            states: {
                                hover: {
                                    enabled: true
                                }
                            }
                        },
                              states: {
                                inactive: {
                                    opacity: 1
                                },
                                 
                              }
                    }
                },
                xAxis: {
                    categories: {!Chart12MonthsChart},
                    
                },
                yAxis: {
                    min: 0,
                    max:{!chart3YaxisMax},
                    title: {
                        text: 'Average Annual Sales'
                    },
                    plotLines: [{
                    color: 'red',
                    dashStyle: 'dash',
                    width: 1.5,
                    value: {!avg12MonthRevenue },
                    label: {
                        align: 'right',
                         
                        style: {
                            color: 'red',
                            fontStyle: 'normal',
                            fontSize: '14px'
                            
                        },
                        text: 'Average Annual Sales <br/>All Tenured Reps = '+{!avg12MonthRevenue}.toLocaleString("ja-JP", { style: "currency", currency: "USD", minimumFractionDigits: 0 ,maximumFractionDigits:0 }),
                        x:  -10
                    },
                    zIndex: 33
                }]
                },
                
                series: [
                {
                        name: '{!JSENCODE(HTMLENCODE(role))}',
                        data: {!Chart12DataChart},
                         tooltip: {
                                valuePrefix: '$',
                                valueDecimals: 0
                            }
                
                    },
                <apex:repeat value="{!newReplist}" var="a" >
                    {
                         type: 'line',
                         showInLegend: false, 
                         marker: {
                             enabled: false
                        },
                        name: '{!a}',
                        data: {!newReplist[a]},
                         tooltip: {
                                valuePrefix: '$',
                                valueDecimals: 0 
                            }
                
                    },
                </apex:repeat>
                ]
            });
            
            $('#QF').highcharts({
                    credits: {
                      enabled: false
                      },
                  chart: {
                    type: 'bubble',
                    plotBorderWidth: 1,
                    zoomType: 'xy',
                    panning: true,
                    panKey: 'shift'
                      
                },
            
                legend: {
                    enabled: false
                },
            
                title: {
                    text: '12-Month Rolling Sales vs YTD Quota vs LTV '
                },
            
                
            
               
            
                xAxis: {
                    min:0,
                    max:{!chart4XaxisMax},
                    gridLineWidth: 1,
                    title: {
                    margin: 20,
                        
                        text: '12-Month Rolling Sales Performance of Tenured Reps'
                    },
                    labels: {
                        format: '${value:,.0f}'
                    },
                    plotLines: [{
                        color: 'red',
                        dashStyle: 'dash',
                        width: 1.5,
                        value: {!avg12MonthRevenue},
                        label: {
                            align: 'center',
                            style: {
                            color: 'red',
                            fontStyle: 'normal',
                            fontSize: '12px'
                            
                            },
                            rotation: 0,
                            y: 15,
                            x:-105,
                           
                            text: 'FY '+'{!fiscalYear}'+' Average Annual Sales <br/> Performance-Tenured Rep <br/>'+{!avg12MonthRevenue}.toLocaleString("ja-JP", { style: "currency", currency: "USD", minimumFractionDigits: 0 ,maximumFractionDigits:0 }),
                        },
                        zIndex: 3
                    }],
                     
                },
            
                yAxis: {
                     min:0,
                    max:{!chart4YaxisMax},
                    startOnTick: false,
                    endOnTick: false,
                    title: {
                        text: 'YTD Quota %'
                    },
                    labels: {
                        format: '{value}%'
                    },
                    maxPadding: 0.2,
                    plotLines: [{
                        color: 'red',
                        dashStyle: 'dash',
                        width: 1.5,
                        value: {!avgYTD},
                        label: {
                            align: 'right',
                            textAlign: 'center',
                            style: {
                            color: 'red',
                            fontStyle: 'normal',
                            fontSize: '12px'
                            
                            },
                            text: 'Avg. YTD Quota <br/> Attainment-All Tenured Reps <br/>'+{!avgYTD}+'%',
                            x: -95,
                            y: 25,
                        },
                        zIndex: 3
                    }],
                     
                },
            
                tooltip: {
                    
                   
                    useHTML: true,
                    outside: true,
                    backgroundColor: "rgba(246, 246, 246, 1)",
                    borderColor: "#7cb5ec",
                    borderWidth: 1.5,
                    style: {
                      opacity: 1,
                      background: "rgba(246, 246, 246, 1)"
                    },
                    headerFormat: '<table>',
                    pointFormat: '<tr><th colspan="2"><h3><span style="color:#7cb5ec;">\u25CF </span> {point.name}</h3></th></tr>' +
                        '<tr><td>QS </td><td>:{point.QS}</td></tr>'+
                        '<tr><td>12-Month Rolling Sales</td><td>:${point.x:,.0f}</td></tr>' +
                        '<tr><td>YTD Quota % </th><td>:{point.y}%</td></tr>' +
                        '<tr><td>LTV</td><td>: ${point.z}</td></tr>',
                        
                    footerFormat: '</table>',
                    followPointer: true
                },
            
                 legend: {
                                align: 'center',
                                verticalAlign: 'bottom',
                                x: 0,
                                y: 0,
                                symbolWidth: 0,
                                symbolRadius: 0,
                                symbolPadding: 0,
                                symbolWidth: 0.1,
                                symbolHeight: 0.1,
                                labelFormatter: function() {
                                    return '<span style="color:#66cc33;font-Size:19px" >\u25CF</span> Outstanding <span style="color:#fff;font-Size:7px" >\u25CF</span><span style="color:#00b2ee;font-Size:19px"> \u25CF</span> Strong<span style="color:#fff;font-Size:7px" >\u25CF</span> <span style="color:#fece1a;font-Size:19px">\u25CF</span> Average<span style="color:#fff;font-Size:7px" >\u25CF</span>  <span style="color:#ff9900;font-Size:19px">\u25CF</span> Marginal <span style="color:#fff;font-Size:7px" >\u25CF</span>  <span style="color:#EF412F;font-Size:19px">\u25CF</span> Needs Improvement ';
                                }
                               
                        },
                        
                plotOptions: {
                
                    series: {
                        dataLabels: {
                             enabled: true,
                            useHTML:true,
                            style: {
                                color: 'black'
                            },
                            formatter:function(){
                            console.log(this);
                            return "<div class='labeltext'><span style='position :relative;top:-"+this.point.marker.radius+"px;display:block'>"+this.point.name+" </span><span style='position:relative;top:-10px;text-align:center;'>"+this.point.QS+" </span></div>";
                        }
                        }
                    },
                    bubble: {
                        zones: [{
                            value: {!needimprovement},  
                            color: '#EF412F'  
                        },{
                            value: {!marginal},
                            color: '#ff9900',
                             
                        },{
                            value: {!average},
                            color: '#fece1a',
                             
                        },{
                            value: {!strong},
                            color: '#00b2ee',
                             
                        },{
                            color: '#66cc33',
                             
                        }]
                    }
                    
                },
            
                 series: [{
                    data: bdata,
                    events: {
                                legendItemClick: function(e) {
                                    e.preventDefault()
                            }
                        }
                  }]
            });
            
            $('#QFYTD').highcharts({
                    credits: {
                      enabled: false
                      },
                  chart: {
                    type: 'bubble',
                    plotBorderWidth: 1,
                    zoomType: 'xy',
                    panning: true,
                    panKey: 'shift'
                      
                },
            
                legend: {
                    enabled: false
                },
            
                title: {
                    text: 'YTD Quota Performance vs LTV '
                },
            
                
            
               
            
                xAxis: {
                    min:0,
                    max:{!chart5XaxisMax},
                    gridLineWidth: 1,
                    title: {
                    margin: 20,
                        
                        text: 'YTD Sales Performance of Tenured Reps'
                    },
                    labels: {
                        format: '${value:,.0f}'
                    },
                    plotLines: [{
                        color: 'red',
                        dashStyle: 'dash',
                        width: 1.5,
                        value: {!avg12MonthRevenue},
                        label: {
                            align: 'center',
                            style: {
                            color: 'red',
                            fontStyle: 'normal',
                            fontSize: '12px'
                            
                            },
                            rotation: 0,
                            y: 15,
                            x:-105,
                           
                            text: 'FY '+'{!fiscalYear}'+' Average Annual Sales <br/> Performance-Tenured Rep <br/>'+{!avg12MonthRevenue}.toLocaleString("ja-JP", { style: "currency", currency: "USD", minimumFractionDigits: 0 ,maximumFractionDigits:0 }),
                        },
                        zIndex: 3
                    }],
                     
                },
            
                yAxis: {
                     min:0,
                    max:{!chart4YaxisMax},
                    startOnTick: false,
                    endOnTick: false,
                    title: {
                        text: 'YTD Quota %'
                    },
                    labels: {
                        format: '{value}%'
                    },
                    maxPadding: 0.2,
                    plotLines: [{
                        color: 'red',
                        dashStyle: 'dash',
                        width: 1.5,
                        value: {!avgYTD},
                        label: {
                            align: 'right',
                            textAlign: 'center',
                            style: {
                            color: 'red',
                            fontStyle: 'normal',
                            fontSize: '12px'
                            
                            },
                            text: 'Avg. YTD Quota <br/> Attainment-All Tenured Reps <br/>'+{!avgYTD}+'%',
                            x: -95,
                            y: 25,
                        },
                        zIndex: 3
                    }],
                     
                },
            
                tooltip: {
                    
                   
                    useHTML: true,
                    outside: true,
                    backgroundColor: "rgba(246, 246, 246, 1)",
                    borderColor: "#7cb5ec",
                    borderWidth: 1.5,
                    style: {
                      opacity: 1,
                      background: "rgba(246, 246, 246, 1)"
                    },
                    headerFormat: '<table>',
                    pointFormat: '<tr><th colspan="2"><h3><span style="color:#7cb5ec;">\u25CF </span> {point.name}</h3></th></tr>' +
                        '<tr><td>QS </td><td>:{point.QS}</td></tr>'+
                        '<tr><td>YTD Sales </td><td>:${point.x:,.0f}</td></tr>' +
                        '<tr><td>YTD Quota % </th><td>:{point.y}%</td></tr>' +
                        '<tr><td>LTV</td><td>: ${point.z}</td></tr>',
                        
                    footerFormat: '</table>',
                    followPointer: true
                },
                legend: {
                                align: 'center',
                                verticalAlign: 'bottom',
                                x: 0,
                                y: 0,
                                symbolWidth: 0,
                                symbolRadius: 0,
                                symbolPadding: 0,
                                symbolWidth: 0.1,
                                symbolHeight: 0.1,
                                labelFormatter: function() {
                                    return '<span style="color:#66cc33;font-Size:19px" >\u25CF</span> Outstanding <span style="color:#fff;font-Size:7px" >\u25CF</span><span style="color:#00b2ee;font-Size:19px"> \u25CF</span> Strong<span style="color:#fff;font-Size:7px" >\u25CF</span> <span style="color:#fece1a;font-Size:19px">\u25CF</span> Average<span style="color:#fff;font-Size:7px" >\u25CF</span>  <span style="color:#ff9900;font-Size:19px">\u25CF</span> Marginal <span style="color:#fff;font-Size:7px" >\u25CF</span>  <span style="color:#EF412F;font-Size:19px">\u25CF</span> Needs Improvement ';
                                }
                               
                        },
            
                plotOptions: {
                
                    series: {
                        dataLabels: {
                             enabled: true,
                            useHTML:true,
                            style: {
                                color: 'black'
                            },
                            formatter:function(){
                            console.log(this);
                            return "<div class='labeltext'><span style='position :relative;top:-"+this.point.marker.radius+"px;display:block'>"+this.point.name+" </span><span style='position:relative;top:-10px;text-align:center;'>"+this.point.QS+" </span></div>";
                        }
                        }
                    },
                    bubble: {
                        zones: [{
                            value: {!needimprovement},  
                            color: '#EF412F'  
                        },{
                            value: {!marginal},
                            color: '#ff9900',
                             
                        },{
                            value: {!average},
                            color: '#fece1a',
                             
                        },{
                            value: {!strong},
                            color: '#00b2ee',
                             
                        },{
                            color: '#66cc33',
                             
                        }]
                    }
                    
                },
            
                 series: [{
                    data: bdataYTD,
                    events: {
                                legendItemClick: function(e) {
                                    e.preventDefault()
                            }
                        }
                  }]
            });
          }
         
         
         
      </script>
   </apex:outputPanel>
   <apex:form >
      <div class="slds-scope">
         <div class="myapp">
             <c:Help_popup helpContent="{!help}"/>
            <!--Navigation-->
            <div class="slds-grid slds-wrap slds-form-element slds-p-around_small">
                    <div class="slds-size_1-of-1">
                        <div class="navigation">
                             <ul>
                                <li class="checklisticon" >
                                    <apex:outputPanel rendered="{!(admin && wizardComp && (!checkListComp))}">
                                        <apex:commandLink action="{!navigateToChecklistPage}"><i class="fa fa-check-circle" aria-hidden="true"></i></apex:commandLink>
                                    </apex:outputPanel>
                                </li>
                                <li class="home"><apex:commandLink action="{!navigateToHomePage}"><i class="fas fa-home"></i></apex:commandLink></li>
                                <li class="scorenav"><apex:commandLink action="{!navigateToCertification}"> FUNNELOCITY SCORING</apex:commandLink></li>
                                <li><apex:commandLink action="{!navigateToDashboard}"><span><i class="fas fa-tachometer-alt"></i></span> PERFORMANCE DASHBOARD</apex:commandLink></li>
                                <li class="selected reportnav"> <i class="fas fa-chart-bar"></i> REPORTING 
                                    <ul class="subnav">
                                        <!--li><apex:commandLink action="{!navigateToCertificateReports}">Funnelocity Reports</apex:commandLink></li-->
                                        <li><apex:commandLink action="{!navigateToReportsPage}">Sales Management Reports</apex:commandLink></li>
                                        <li><a>Tenured and New Hire Performance Dashboard</a></li>
                                        <li><apex:commandLink action="{!navigateToTrndngRep}">Trending By Rep Dashboard</apex:commandLink></li>
                                        <li><apex:commandLink action="{!navigateToTrendingBySkill}">Trending By Metric/Skill Dashboard</apex:commandLink></li>
                                    </ul>
                                </li>
                                   
                                 <li class="reportnav funnelanalyticsnav " >   <a> FUNNELOCITY ANALYTICS </a>  
                                    <ul class="subnav">
                                        <li><apex:commandLink action="{!navigateToFunnelAnalytic}">Funnelocity Analytics Dashboard</apex:commandLink></li>
                                        <!--li><apex:commandLink action="{!navigateToFunnelAnalyticQualitative}">Funnelocity Qualitative Scoring</apex:commandLink></li-->
                                    	<li><apex:commandLink action="{!navigateToSalesPipeline}">Funnelocity Sales Pipeline</apex:commandLink></li>
                                    </ul>
                               </li>                                                             
                                <li style="display:none"><apex:commandLink ><i class="fas fa-star"></i> TERRITORY PLAN</apex:commandLink></li>
                                <apex:outputPanel rendered="{!displayMetricCalculator}">
                                    <li><apex:commandLink action="{!navigateToCalculator}"><i class="fas fa-calculator"></i> METRICS CALCULATOR</apex:commandLink></li>
                                </apex:outputPanel>
                                <apex:outputPanel rendered="{!appSetup = ''}">
                                    <li class=" reportnav"> <i class="fas fa-chart-bar"></i> ADMIN 
                                        <ul class="subnavlast">
                                            <li><apex:commandLink action="{!navigateToFunnelAddEditSRP}" rendered="{!adminUser}">Sales Rep Profiles and Hierarchy</apex:commandLink></li>
                                            <li><apex:commandLink action="{!navigateToAppSetup}" rendered="{!adminUser}">Metrics and Skills</apex:commandLink></li>
                                            <li><apex:commandLink action="{!navigateToGoals}">Goal Management</apex:commandLink></li>
                                            <li><apex:commandLink action="{!navigateToFunnelSetup}" rendered="{!adminUser}">Custom Updates</apex:commandLink></li>                                        
                                        </ul>
                                    </li>
                                </apex:outputPanel>
                                <!--Added for Help Menu - Rohit-->
                                <li class="help">
                                    <apex:commandLink target="_blank" action="{!navigateToHelpMenu}"><i class="fas fa-question-circle" style="color: #00b2ee"></i></apex:commandLink>
                                </li>
                            </ul> 
                        </div>
                    </div>
                </div> 
            <!--Navigation-->
            <apex:actionFunction id="breadCrumClick" name="breadCrumClick" action="{!breadCrumClick}" rerender="repList,roleList,levels,levelList" oncomplete="validateSave();">
               <apex:param value="" name="crumValue" assignTo="{!crumValue}" />
               <apex:param value="" name="levelValue" assignTo="{!levelValue}" />
            </apex:actionFunction>
            <div class="slds-grid slds-wrap slds-form-element" style="background: #f5f5f9;">
               <div class="slds-p-around_small" style="color: #333333; font-size: 16px; position: absolute; right: 0; top: 0;z-index: 1;">
                  <span class="help" onclick="popup('pop')" style="float: left; line-height: 18px;">Help <i style="font-size: 18px; margin: 0 0 0 5px; float: right;" class="fa fa-question-circle" aria-hidden="true"></i></span>
               </div>
               <div class="slds-col">
                  <div class="slds-grid slds-wrap slds-form-element" style="background: #f5f5f9;padding-bottom: 10px;padding-top: 10px;">
                     <div class="slds-col">
                        <script type="text/javascript">
                           var repVal ;
                           var repupdate = false;
                           var crumb = '{!defaultBreadCrumb}'; 
                           
                           $(document).ready(function(){                                       
                              var option;
                              $(".crumbClass").html(crumb);
                           
                           
                              showfs();                                    
                           
                           });
                           
                           function addCrumb(obj,levelValue){
                               
                              option = $(obj).find('option:selected').text();
                               console.log('repVal :: '+repVal);
                               console.log('option :: '+option);
                              if(option != '--Select--' && option != 'All'){
                                  
                                  if(crumb == ''){
                                      crumb = option;                                                            
                                  }else if((repVal =='Rep' || repVal == 'Filter By Representative') && !repupdate ){
                                      if(crumb.lastIndexOf('a') != (crumb.length-2)){
                                          console.log('insidelength');
                                          crumb = crumb.slice(0, crumb.lastIndexOf('>'))
                                      }
                                      crumb = crumb + '&nbsp> ' +option;
                                      repupdate = true;
                                  }else if((repVal =='Rep' || repVal == 'Filter By Representative') && repupdate ){
                                       
                                      crumb = crumb.slice(0, crumb.lastIndexOf('>')) +'> ' + option;
                                      
                                  }else { 
                                      crumb = crumb + '&nbsp>&nbsp '+`   <a onclick="breadCrumClick1('${option}','${levelValue}')">`+ option+ '</a>' ;
                                      
                                  }
                                  }else if(option == 'All'){
                                  crumb = crumb.slice(0, crumb.lastIndexOf('>'));
                              }
                              $(".crumbClass").html(crumb);
                              
                           }
                           
                           function repva(rv){
                              repVal = rv;
                               
                           }
                           
                           function breadCrumClick1(v,l){
                              repupdate = false;
                              breadCrumClick(v,l);
                              crumb = crumb.slice(0, crumb.lastIndexOf(v+'</a>'))+v+'</a>';
                              $(".crumbClass").html(crumb);
                           
                           }
                           
                           function sfcall(obj){
                           sf($(obj).val());
                           }
                                                                                     
                        </script> 
                        <apex:outputPanel id="crumbText">
                           <script type="text/javascript">
                              function reloadCrumb(){
                                  crumb = '{!defaultBreadCrumb}';
                                  $(".crumbClass").html(crumb);
                                  repupdate = false;
                              }
                           </script>
                           <apex:outputText styleClass="crumbClass slds-p-around_small slds-grid" style="color: #333333; font-size: 18px; font-weight: 300;padding-top: 0;padding-bottom: 10px;">                                
                           </apex:outputText>
                        </apex:outputPanel>
                        <apex:outputPanel id="filtersPanel">
                           <apex:actionStatus id="filterStatus">
                              <apex:facet name="stop">
                                 <apex:outputPanel >
                                    <div class="slds-grid slds-wrap">
                                       <div class="slds-large-size_8-of-8 slds-small-size_1-of-1">
                                          <div class="slds-grid">
                                             <apex:outputPanel id="levels" styleclass="slds-col slds-size_1-of-3">
                                                <label class="slds-form-element__label slds-text-heading_medium slds-p-left_small" style="font-size: 21px; font-weight: bold; color: #7e8793;" for="select-01">{!fw.labelOne}</label>                              
                                                <div class="slds-form-element__control slds-p-around_small" style="margin: -10px 0 0 0;">
                                                   <div style="position: relative;">
                                                      <!--  <apex:actionRegion > -->
                                                      <apex:selectList size="1" disabled="{!IF(NOT(fw.isRep),false,true)}" value="{!fw.SelectedLevelOne}" styleClass="slds-select slds-text-heading_medium slds-p-around_x-small" id="select-01" style="color: #7e8793; font-size: 21px; border-radius: 0; height: auto; padding: 6px 30px 6px 8px;">
                                                         <apex:actionSupport status="filterStatus" event="onchange" onComplete="reloadCrumb();validateSave();" action="{!levelOneAction}" rerender="repList,levelList,roleList,crumbText"/>
                                                         <apex:selectoptions value="{!fw.levelOne}"> 
                                                         </apex:selectoptions>
                                                      </apex:selectList>
                                                      <!--  </apex:actionRegion > -->
                                                   </div>
                                                </div>
                                                <apex:outputText style="color:red; display:none;margin: 0px 0px 0px 75px; font-size: 15px;" value="Please select a value" id="validlevel"></apex:outputText>
                                             </apex:outputPanel>
                                             <apex:outputPanel id="levelList" styleclass="slds-col slds-size_1-of-3">
                                                <label class="slds-form-element__label slds-text-heading_medium slds-p-left_small" style="font-size: 21px; font-weight: bold; color: #7e8793;" for="select-02">{!fw.labelTwo}{!IF(fw.labelTwo =='Rep','  Name','')}</label><apex:outputPanel id="repol"> <apex:image url="{!URLFOR($Resource.Overlay,'Overlay/overlay.png')}" style="margin: -10px 0 0 0;" rendered="{!IF(RepOverlay ,true,false)}"/> </apex:outputPanel> 
                                                <div class="slds-form-element__control slds-p-around_small" style="margin: -10px 0 0 0;">
                                                   <div style="position: relative;">
                                                      <apex:actionRegion >
                                                         <apex:selectList disabled="{!IF(AND(NOT(ISNULL(fw.SelectedLevelOne)),NOT(fw.SelectedLevelOne='--Select--'),NOT(ISBLANK(fw.SelectedLevelOne)),NOT(fw.disableLevelTwo),NOT(fw.isRep)),false,true)}" size="1" value="{!fw.SelectedLevelTwo}" styleClass="slds-select slds-text-heading_medium slds-p-around_x-small" id="select-02" style="color: #7e8793; font-size: 21px; border-radius: 0; height: auto; padding: 6px 30px 6px 8px;">
                                                            <apex:actionSupport status="filterStatus" event="onchange" onComplete="reloadCrumb();validateSave();" action="{!levelTwoAction}" onbeforedomupdate="repva('{!fw.labelTwo}')"  rerender="repList,roleList,levels,levelList,crumbText" />
                                                            <apex:selectoptions value="{!fw.levelTwo}"> 
                                                            </apex:selectoptions>
                                                         </apex:selectList>
                                                      </apex:actionRegion>
                                                   </div>
                                                </div>
                                                <apex:outputText style="color:red; display:none;margin: 0px 0px 0px 75px; font-size: 15px;" value="Please select a value" id="validname"></apex:outputText>
                                             </apex:outputPanel>
                                             <apex:outputPanel id="roleList" styleclass="slds-col slds-size_1-of-3">
                                                <label class="slds-form-element__label slds-text-heading_medium slds-p-left_small" style="font-size: 21px; font-weight: bold; color: #7e8793;" for="select-03">{!fw.labelThree}</label>
                                                <div class="slds-form-element__control slds-p-around_small" style="margin: -10px 0 0 0;">
                                                   <div style="position: relative;">
                                                      <apex:actionRegion >
                                                         <apex:selectList disabled="{!IF(AND(NOT(ISNULL(fw.SelectedLevelOne)),NOT(ISNULL(fw.SelectedLevelTwo)),NOT(ISBLANK(fw.SelectedLevelOne)),NOT(ISBLANK(fw.SelectedLevelTwo)),NOT(fw.disableLevelThree),NOT(fw.isRep)),false,true)}" size="1" value="{!fw.SelectedLevelThree}" styleClass="slds-select slds-text-heading_medium slds-p-around_x-small" id="select-03" style="color: #7e8793; font-size: 21px; border-radius: 0; height: auto; padding: 6px 30px 6px 8px;">
                                                            <apex:actionSupport status="filterStatus" event="onchange" rerender="repList" oncomplete="validateSave();"/>
                                                            <apex:selectoptions value="{!fw.levelThree}"> 
                                                            </apex:selectoptions>
                                                         </apex:selectList>
                                                      </apex:actionRegion>
                                                   </div>
                                                </div>
                                                <apex:outputText style="color:red; display:none;margin: 0px 0px 0px 75px; font-size: 15px;" value="Please select a value" id="validmgr"></apex:outputText>
                                             </apex:outputPanel>
                                          </div>
                                        </div>
                                        <div class="slds-large-size_8-of-8 slds-small-size_1-of-1">
                                            <div class="slds-grid"> 
                                                <apex:outputPanel id="repList" styleclass="slds-col slds-size_1-of-3">
                                                    <label class="slds-form-element__label slds-text-heading_medium slds-p-left_small" style="font-size: 21px; font-weight: bold; color: #7e8793;" for="select-04">{!fw.labelFour}</label>
                                                    <div class="slds-form-element__control slds-p-around_small" style="margin: -10px 0 0 0;">
                                                        <div style="position: relative;">
                                                            <apex:actionRegion >
                                                                <apex:selectList disabled="{!IF(AND(NOT(ISNULL(fw.SelectedLevelOne)),NOT(fw.SelectedLevelOne='--Select--'),NOT(ISBLANK(fw.SelectedLevelOne)),NOT(fw.isRep)),false,true)}" size="1" value="{!fw.SelectedLevelFour}" styleClass="slds-select slds-text-heading_medium slds-p-around_x-small" id="select-04" style="color: #7e8793; font-size: 21px; border-radius: 0; height: auto; padding: 6px 30px 6px 8px;">
                                                                    <apex:actionSupport status="filterStatus" event="onchange" onComplete="addCrumb(this,'{!fw.labelOne}');validateSave();"  onbeforedomupdate="repva('{!fw.labelFour}')" rerender="repList,roleList,levels,levelList,crumbText" />
                                                                    <apex:selectoptions value="{!fw.levelFour}"> 
                                                                    </apex:selectoptions>                                                        
                                                                </apex:selectList> 
                                                            </apex:actionRegion>
                                                        </div>
                                                    </div>
                                                    <apex:outputText style="color:red; display:none;margin: 0px 0px 0px 75px; font-size: 15px;" value="Please select a value" id="validrep"></apex:outputText>
                                                    
                                                </apex:outputPanel>
                                            </div>
                                            
                                        </div>
                                       <apex:actionFunction name="show" action="{!showUpdated}" rerender="detailsPanel,filtersPanel,mg,charts,tn,tn1,gaptable,impMsg,topname,metblock,repol" oncomplete="showChart();showfs();"/>
                                    </div>
                                 </apex:outputPanel>
                              </apex:facet>
                              <apex:facet name="start">
                                 <apex:outputPanel >
                                    <div class="slds-grid slds-wrap">
                                       <div class="slds-large-size_8-of-8 slds-small-size_1-of-1">
                                          <div class="slds-grid">
                                             <apex:outputPanel styleclass="slds-col slds-size_1-of-3">
                                                <label class="slds-form-element__label slds-text-heading_medium slds-p-left_small" style="font-size: 21px; font-weight: bold; color: #7e8793;" for="select-01">Select Level</label>                              
                                                <div class="slds-form-element__control slds-p-around_small" style="margin: -10px 0 0 0;">
                                                   <div style="position: relative;">
                                                      <apex:selectList size="1" disabled="true" styleClass="slds-select slds-text-heading_medium slds-p-around_x-small" style="color: #7e8793; font-size: 21px; border-radius: 0; height: auto; padding: 6px 30px 6px 8px;">
                                                         <apex:selectoption itemValue="Level" itemLabel="Level"> 
                                                         </apex:selectoption>
                                                      </apex:selectList>
                                                   </div>
                                                </div>
                                             </apex:outputPanel>
                                             <apex:outputPanel styleclass="slds-col slds-size_1-of-3">
                                                <label class="slds-form-element__label slds-text-heading_medium slds-p-left_small" style="font-size: 21px; font-weight: bold; color: #7e8793;" for="select-01">Select Level</label>                              
                                                <div class="slds-form-element__control slds-p-around_small" style="margin: -10px 0 0 0;">
                                                   <div style="position: relative;">
                                                      <apex:selectList size="1" disabled="true" styleClass="slds-select slds-text-heading_medium slds-p-around_x-small" style="color: #7e8793; font-size: 21px; border-radius: 0; height: auto; padding: 6px 30px 6px 8px;">
                                                         <apex:selectoption itemValue="Level" itemLabel="Level"> 
                                                         </apex:selectoption>
                                                      </apex:selectList>
                                                   </div>
                                                </div>
                                             </apex:outputPanel>
                                             <apex:outputPanel styleclass="slds-col slds-size_1-of-3">
                                                <label class="slds-form-element__label slds-text-heading_medium slds-p-left_small" style="font-size: 21px; font-weight: bold; color: #7e8793;" for="select-01">Select Role</label>                              
                                                <div class="slds-form-element__control slds-p-around_small" style="margin: -10px 0 0 0;">
                                                   <div style="position: relative;">
                                                      <apex:selectList size="1" disabled="true" styleClass="slds-select slds-text-heading_medium slds-p-around_x-small" style="color: #7e8793; font-size: 21px; border-radius: 0; height: auto; padding: 6px 30px 6px 8px;">
                                                         <apex:selectoption itemValue="Role" itemLabel="Role"> 
                                                         </apex:selectoption>
                                                      </apex:selectList>
                                                   </div>
                                                </div>
                                              </apex:outputPanel>
                                           </div>
                                        </div>
                                        <div class="slds-large-size_8-of-8 slds-small-size_1-of-1">
                                            <div class="slds-grid">
                                                <apex:outputPanel styleclass="slds-col slds-size_1-of-3"> 
                                                    <label class="slds-form-element__label slds-text-heading_medium slds-p-left_small" style="font-size: 21px; font-weight: bold; color: #7e8793;" for="select-04">Select Level</label>                              
                                                    <div class="slds-form-element__control slds-p-around_small" style="margin: -10px 0 0 0;">
                                                        <div style="position: relative;">
                                                            <apex:selectList size="1" disabled="true" styleClass="slds-select slds-text-heading_medium slds-p-around_x-small" style="color: #7e8793; font-size: 21px; border-radius: 0; height: auto; padding: 6px 30px 6px 8px;">
                                                                <apex:selectoption itemValue="Level" itemLabel="Level"> 
                                                                </apex:selectoption>                                               
                                                            </apex:selectList> 
                                                        </div>
                                                    </div>
                                                </apex:outputPanel>
                                            </div>
                                        </div>
                                    </div>
                                 </apex:outputPanel>
                              </apex:facet>
                           </apex:actionStatus>
                        </apex:outputPanel>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div class="slds-grid slds-wrap slds-p-around_small">
         <div class="slds-grid slds-wrap" style="background: #fff; display: block; width: 100%;">
            <!--<div class="slds-small-size_1-of-1" id="topname">
               <div class="slds-text-align_center slds-p-around_medium slds-small-size_1-of-1" style="background: #7e8793;">
                  <div class="slds-text-body_regular" style="color:#ffffff; font-size: 24px; line-height:22px;" >How is <span id="ssname"> </span> performing?</div>
               </div>
            </div>-->
            <apex:outputPanel id="metblock">
               <apex:outputPanel rendered="{!IF(OR(AND(fw.selectedLevelThree != '',fw.selectedLevelThree != 'All'),AND(fw.selectedLevelTwo != 'All',fw.labelTwo == 'Rep'),AND(fw.selectedLevelFour != '',fw.selectedLevelFour != 'All')),False,True)}">
                  <div class="slds-small-size_1-of-1 slds-grid slds-p-top_medium"  >
                     <div class="slds-large-size_8-of-8" style="text-align: center; font-size: 29px;  padding-top: 10px; border: 1px solid #d8dde6; min-height: 450px;">
                        Please select a Role to view performance charts
                     </div>
                  </div>
               </apex:outputPanel>
               <apex:outputPanel rendered="{!IF(OR(AND(fw.selectedLevelThree != '',fw.selectedLevelThree != 'All'),AND(fw.selectedLevelTwo != 'All',fw.labelTwo == 'Rep'),AND(fw.selectedLevelFour != '',fw.selectedLevelFour != 'All')),True,False)}">
                  <div class="slds-small-size_1-of-1">
                     <apex:outputPanel id="impMsg">
                        <div id='Avg12MonthRev' class="slds-grid slds-size_1-of-1 slds-p-around_large" style="background: #fff; border: 1px solid #d8dde6;margin: 10px 0px 10px 0; min-height: 580px;">
                        </div>
                        <div id='24MonthRev' class="slds-grid slds-size_1-of-1 slds-p-around_large" style="background: #fff; border: 1px solid #d8dde6;margin: 10px 0px 10px 0; min-height: 580px;">
                        </div>
                        <div id='12MonthRev' class="slds-grid slds-size_1-of-1 slds-p-around_large" style="background: #fff; border: 1px solid #d8dde6;margin: 10px 0px 10px 0; min-height: 580px;">
                        </div>
                        <div id='QFYTD' class="slds-grid slds-size_1-of-1 slds-p-around_large" style="background: #fff; border: 1px solid #d8dde6;margin: 10px 0px 10px 0; min-height: 580px;">
                        </div>
                        <div id='QF' class="slds-grid slds-size_1-of-1 slds-p-around_large" style="background: #fff; border: 1px solid #d8dde6;margin: 10px 0px 10px 0; min-height: 580px;">
                        </div>
                        
                     </apex:outputPanel>
                  </div>
               </apex:outputPanel>
            </apex:outputPanel>
         </div>
      </div>
   </apex:form>
   
   <script type="text/javascript">
      showChart();
      function validateSave(){
          var inp1 = $('[id$=select-01]').val();
          var inp2 = $('[id$=select-02]').val();
          var inp3 = $('[id$=select-03]').val();
          
          var validSave = 'true';
          
          console.log(inp1 );
          console.log(inp2 );
          console.log(inp3 );
          if(inp1 == '--Select--'){
              $('[id$=validlevel]').css("display","block");
              validSave = 'false';
          }
          if(inp2 == '--Select--'){
              $('[id$=validname]').css("display","block");
              validSave = 'false';
          }
          if(inp3 == '--Select--'){
              $('[id$=validmgr]').css("display","block");
              validSave = 'false';
          }
         
          console.log(validSave);
          if(validSave == 'true'){
              console.log(validSave); 
              $('[id$=validlevel]').css("display","none");
              $('[id$=validname]').css("display","none");
              $('[id$=validmgr]').css("display","none");
              
              show();
          }
      }
      
       
       
   </script>
</apex:page>